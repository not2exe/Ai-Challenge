# CLI Chat Configuration
# Copy this file to ~/.cli-chat/config.yaml and customize

# Provider to use: "deepseek" or "ollama"
provider: deepseek

# DeepSeek API Configuration
deepseek:
  # API key - can be overridden by DEEPSEEK_API_KEY environment variable
  # Get your key at: https://platform.deepseek.com/api_keys
  api_key: ""

  # Base URL for the API
  base_url: "https://api.deepseek.com"

  # Request timeout in seconds
  timeout: 120

# Ollama Configuration (for local models)
ollama:
  # Base URL for Ollama server
  base_url: "http://localhost:11434"

  # Request timeout in seconds
  timeout: 120

# Model Configuration
model:
  # Model to use
  # For DeepSeek:
  #   - deepseek-chat (fast, general-purpose, DeepSeek-V3.2 non-thinking mode)
  #   - deepseek-reasoner (reasoning mode, better for complex problems)
  # For Ollama:
  #   - llama3, llama3:8b, llama3:70b
  #   - qwen2, qwen2:7b, qwen2:72b
  #   - mistral, mistral:7b
  #   - Any model available in your Ollama installation
  name: "deepseek-chat"

  # Maximum tokens to generate in response
  max_tokens: 2048

  # Temperature (0.0 to 2.0) - higher = more creative
  temperature: 1.0

  # Default system prompt - defines AI's behavior
  system_prompt: |
    You are a helpful AI assistant. Provide clear, concise, and accurate responses.

# Session Configuration
session:
  # Maximum number of messages to keep in conversation history
  # Older messages are automatically truncated
  max_history: 50

  # Save conversation history to file on exit
  save_history: false

  # Location to save conversation history
  history_file: "~/.cli-chat/history.json"

# UI Configuration
ui:
  # Show token usage after each response
  show_token_count: true

  # Enable colored output (disable for plain text)
  colored_output: true

  # Show timestamps for messages (not yet implemented)
  show_timestamps: false

# MCP (Model Context Protocol) Configuration
# MCP allows the chat to use external tools like GitHub, filesystem, etc.
mcp:
  # Enable MCP integration
  enabled: false

  # List of MCP servers to connect to
  servers:
    # GitHub MCP Server - provides GitHub API tools
    # Requires: npm install -g @modelcontextprotocol/server-github
    # Set GITHUB_TOKEN environment variable or add to env below
    - name: github
      command: npx
      args:
        - "-y"
        - "@modelcontextprotocol/server-github"
      env:
        - "GITHUB_TOKEN=your_github_token_here"

    # Filesystem MCP Server - read/write files
    # - name: filesystem
    #   command: npx
    #   args:
    #     - "-y"
    #     - "@modelcontextprotocol/server-filesystem"
    #     - "/path/to/allowed/directory"

    # Brave Search MCP Server
    # - name: brave-search
    #   command: npx
    #   args:
    #     - "-y"
    #     - "@modelcontextprotocol/server-brave-search"
    #   env:
    #     - "BRAVE_API_KEY=your_api_key"


# Scheduler Configuration
# Runs as a background goroutine inside the chat CLI.
# Periodically checks for due reminders (via MCP) and sends Telegram notifications.
# Requires the "reminder" MCP server in mcp.json.
scheduler:
  # Enable the background scheduler
  enabled: false

  # How often to check for due reminders, in seconds (3600 = 1 hour)
  interval: 3600

  # Prompt sent to DeepSeek to check reminders
  prompt_template: |
    Use list_reminders to get all reminders.
    Then use get_due_reminders to check which ones are overdue.
    Respond with ONLY the HTML below, nothing else.
    No intro, no explanation.

    If there are no reminders at all, respond with exactly: NO_REMINDERS

    Otherwise use this exact HTML format (Telegram supported tags only):

    <b>üìã Reminder Summary</b>

    üî¥ <b>Due/Overdue:</b>
    ‚Ä¢ <b>Title</b> [PRIORITY] ‚Äî ‚è∞ overdue by Xh Ym
      <i>Description</i>
      Deadline: DATE
    Or: None

    üü° <b>Pending:</b>
    ‚Ä¢ <b>Title</b> [PRIORITY] ‚Äî due DATE
      <i>Description</i>
    Or: None

    ‚úÖ <b>Completed:</b>
    ‚Ä¢ <s>Title</s>
    Or: None

    Use üî¥ HIGH, üü° MEDIUM, üü¢ LOW for priority labels.
    Show deadline as a readable date.
    Only use Telegram HTML tags: <b> <i> <s> <code> <pre>.

  # System prompt for the scheduler agent
  system_prompt: |
    You output ONLY valid Telegram HTML. No introductions, no thinking,
    no commentary. Only use these HTML tags: <b> <i> <s> <code> <pre>.
    Never use <br> or <p> ‚Äî use newlines instead.
    Your entire output is sent directly to Telegram as-is.

  # Telegram Bot API settings
  # Can be overridden by TELEGRAM_BOT_TOKEN and TELEGRAM_CHAT_ID env vars
  telegram:
    bot_token: ""
    chat_id: ""


# ========================================
# LEGACY CONFIGURATION (deprecated)
# ========================================
# The 'api' section below is deprecated but still supported
# for backwards compatibility. Please use 'deepseek' section instead.
#
# api:
#   key: ""
#   base_url: "https://api.deepseek.com"
#   timeout: 120
